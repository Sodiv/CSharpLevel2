<Window x:Class="ListEmployee.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ListEmployee"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="200"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <TextBlock Text="Список сотрудников" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="0" Grid.Row="0"/>
        <TextBlock Text="Список департаментов" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="1" Grid.Row="0"/>
        <ListView ItemsSource="{Binding employeeViewModels, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding SelectedEmployee}" Grid.Column="0" Grid.Row="1">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Имя"
                                    Width="120"
                                    DisplayMemberBinding="{Binding Model.Name}"/>
                    <GridViewColumn Header="Возраст" Width="50"
                                    DisplayMemberBinding="{Binding Model.Age}"/>
                    <GridViewColumn Header="Отдел" Width="150" 
                                    DisplayMemberBinding="{Binding Model.DepartmentId}"/>
                </GridView>
            </ListView.View>
        </ListView>
        <ListView ItemsSource="{Binding departments}" SelectedItem="{Binding SelectedDepartment}" Grid.Column="1" Grid.Row="1">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="ID"
                                    Width="20"
                                    DisplayMemberBinding="{Binding ID}"/>
                    <GridViewColumn Header="Отделы"
                                    Width="150"
                                    DisplayMemberBinding="{Binding Name}"/>
                </GridView>
            </ListView.View>
        </ListView>
        <StackPanel Grid.Column="0" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel DataContext="{Binding SelectedEmployee}" Margin="5">
                <TextBlock Text="Имя"/>
                <TextBox Text="{Binding Model.Name}"/>
                <TextBlock Text="Возраст"/>
                <TextBox Text="{Binding Model.Age}"/>
                <TextBlock Text="Отдел"/>
                <ComboBox ItemsSource="{Binding departmentViewModels}"
                                  DisplayMemberPath="Model.Name"
                                  SelectedValue="{Binding Model.DepartmentId}"
                                  SelectedValuePath="Model.ID"/>
            </StackPanel>
            <Button Command="{Binding AddCommand}" Margin="5" Background="#FF28B921">Добавить Сотрудника</Button>
            <Button Command="{Binding RemoveCommand}"
                    CommandParameter="{Binding SelectedEmployee}"
                    Margin="5" Background="#FFB95821">Удалить сотрудника</Button>
        </StackPanel>        
        <StackPanel Grid.Column="1" Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel Margin="5" DataContext="{Binding SelectedDepartment}">
                <TextBlock Text="Отдел"/>
                <TextBox Text="{Binding Name}"/>
            </StackPanel>
            <Button Margin="5" Command="{Binding AddDepCommand}">Добавить отдел</Button>
            <Button Margin="5" Command="{Binding RemoveDepCommand}"
                    CommandParameter="{Binding SelectedDepartment}">Удалить отдел</Button>
        </StackPanel>
    </Grid>
</Window>
